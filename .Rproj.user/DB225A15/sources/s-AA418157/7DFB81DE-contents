library(shinydashboard)
library(shiny)
library(reshape2)
library(dplyr)
library(readr)
library(magrittr)
library(plotly)
library(shinythemes)

GA2019 <- read.csv("data/2019_NAAEE_GoogleAnalytics.csv")

header <- dashboardHeader(title = "NAAEE Web Traffic Dashboard")
  
# see icons here: https://fontawesome.com/icons?d=gallery&q=bar
# reference: https://shiny.rstudio.com/gallery/date-and-date-range.html
sidebar <- dashboardSidebar(
  sidebarMenu(
    menuItem("Overview", tabName = "dashboard", icon = icon("chart-bar")),
    menuItem("Pageviews", tabName = "dashboard", icon = icon("file")),
    menuItem("Users", tabName = "users", icon = icon("users")),
    dateRangeInput("date", 
                   label = "Input date range",
                   start = as.Date("2019-08-01"), end = as.Date("2019-08-31"),
                   min = as.Date("2019-01-01"), max = as.Date("2019-09-22"),
                   format = "mm/dd/yy", startview = 'month'),
    textInput("text",
              label = "Input URL search here")

  )
)





body <- dashboardBody(

  
)
  

ui <- dashboardPage(header, sidebar, body)

server <- function(input, output) { 
  
  exportInput <- reactive({
    req(input$country, input$location1)
    if (input$location1 == "the World") {
      subset(exports, Country == input$country & (Partner == "non-EU Countries" | Partner == "EU Member States"))
    } else {
      subset(exports, Country == input$country & Partner == input$location1)
    }
  })
  
  
  
  
  }

shinyApp(ui, server)




# downloadButton(outputId = "download",
#               label = "Download data")



# output$download <- downloadHandler(
#   filename = function() {
#     paste('')
#   },
#   content = function(con) {
#     write_csv(exports, con)
#   }
# )